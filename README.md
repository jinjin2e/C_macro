# C_macro

## macro

#define SUM(X,Y) ((X)+(Y))  

#define SQR(X) ((X)*(X))   

매크로는 기본적으로 그대로 대입이기 때문에 괄호를 사용해서 인자값을 묶어 먼저 연산처리를 해주어야 예상하는 결과값을 얻을 수 있다.  

예를들어 

#define SRQ(X) (X*X) 라는 매크로가 있다.  

SRQ(10) 또는 일반 변수가 인자값일 때는 정상적으로 동작하지만   
SRQ(x+3) 같이 계산되지 않은 인자값이 들어가면 예상하지 못한 결과값이 나올 수 있다.  

계산 과정  
x=5 일 때  
x+3 이라는 식이 매크로에 그대로 대입된다.  
(x+3 * x+3) 이 되는것인데 계산 순서상 곱셈 먼저 처리 후 덧셈을 계산하기 때문에 결과값은 23으로 의도하지 않은 결과값을 얻을 수 있다.  

해결방법  
-> 매크로를 선언할 때 인자값을 괄호로 묶어 계산 순서를 우선처리해준다.  
#define SRQ(X) ((X)*(X))  

